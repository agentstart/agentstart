---
title: Installation
description: Learn how to configure AgentStart in your project
---

<Steps>

<Step>

### Install the Package

Let's start by adding AgentStart to your project:

```bash
npm install agentstart
```

<Callout type="info">
If you're using a separate client and server setup, make sure to install AgentStart in both parts of your project.
</Callout>

</Step>

<Step>

### Set Environment Variables

Create a `.env` file in the root of your project and add the following environment variables:

1. **Model Provider API Key**

API key from your model provider (OpenRouter, OpenAI, Anthropic, etc.).

```txt title=".env"
MODEL_PROVIDER_API_KEY=your_api_key_here
```

2. **Database URL**

Connection string for your memory:

```txt title=".env"
DATABASE_URL=postgresql://user:password@localhost:5432/dbname
```

</Step>

<Step>

### Install Model Provider

Choose and install your preferred AI model provider:

<Tabs items={["OpenRouter", "OpenAI", "Anthropic"]}>
  <Tab value="OpenRouter">
    ```bash
    npm install @openrouter/ai-sdk-provider
    ```
    
    Get your API key from [OpenRouter](https://openrouter.ai/keys)
  </Tab>
  
  <Tab value="OpenAI">
    ```bash
    npm install @ai-sdk/openai
    ```
    
    Get your API key from [OpenAI Platform](https://platform.openai.com/api-keys)
  </Tab>
  
  <Tab value="Anthropic">
    ```bash
    npm install @ai-sdk/anthropic
    ```
    
    Get your API key from [Anthropic Console](https://console.anthropic.com/)
  </Tab>
</Tabs>

</Step>

<Step>

### Create Agent Instance

Create a file named `agent.ts` in one of these locations:
- `lib/agent.ts`
- `src/lib/agent.ts`
- `server/agent.ts`

```ts title="agent.ts"
import { agentStart } from "agentstart";
import { Agent, agentTools } from "agentstart/agent";
import { createOpenRouter } from "@openrouter/ai-sdk-provider";

const openrouter = createOpenRouter({
  apiKey: process.env.MODEL_PROVIDER_API_KEY!,
});

const agent = new Agent({
  model: openrouter("x-ai/grok-4-fast"),
  instructions: "You are a helpful assistant.",
  tools: {
    ...agentTools,
  },
});

export const start = agentStart({
  appName: "my-app",
  agent,
  // ...
});
```

</Step>

<Step>

### Configure Database

AgentStart requires a database to store thread/message/todo data. You can easily configure AgentStart to use SQLite, PostgreSQL, or MySQL, and more!

<Tabs items={["sqlite", "postgres", "mysql"]}>
    <Tab value="sqlite">
    ```ts title="agent.ts"
    import { agentStart } from "agentstart";
    import Database from "better-sqlite3";

    export const start = agentStart({
        memory: new Database("./sqlite.db"),
    })
    ```
    </Tab>
    <Tab value="postgres">
    ```ts title="agent.ts"
    import { agentStart } from "agentstart";
    import { Pool } from "pg";

    export const start = agentStart({
        memory: new Pool({
            // connection options
        })
    })
    ```
    </Tab>
    <Tab value="mysql">
    ```ts title="agent.ts"
    import { agentStart } from "agentstart";
    import { createPool } from "mysql2/promise";

    export const start = agentStart({
        memory: createPool({
            // connection options
        })
    })
    ```
    </Tab>
</Tabs>

Alternatively, if you prefer to use an ORM, you can use one of the built-in adapters.

<Tabs items={["Drizzle", "Prisma", "MongoDB"]}>
  <Tab value="Drizzle">
  ```ts title="agent.ts"
  import { agentStart } from "agentstart";
  import { drizzleAdapter } from "agentstart/memory";
  import { db } from "@/db"; // your drizzle instance

  export const start = agentStart({
    memory: drizzleAdapter(db, {
      provider: "pg", // or "mysql", "sqlite"
    }),
  })
  ```
  </Tab>
  
  <Tab value="Prisma">
  ```ts title="agent.ts"
  import { agentStart } from "agentstart";
  import { prismaAdapter } from "agentstart/memory";
  import { PrismaClient } from "@/generated/prisma/client"; // If your Prisma file is located elsewhere, you can change the path

  const prisma = new PrismaClient();

  export const start = agentStart({
    memory: prismaAdapter(prisma, {
      provider: "sqlite", // or "mysql", "postgresql"
    }),
  })
  ```
  </Tab>
  
  <Tab value="MongoDB">
  ```ts title="agent.ts"
  import { agentStart } from "agentstart";
  import { mongodbAdapter } from "agentstart/memory";
  import { client } from "@/db"; // your mongodb client

  export const start = agentStart({
    memory: mongodbAdapter(client),
  })
  ```
  </Tab>
</Tabs>

</Step>

<Step>

### Create Database Tables
AgentStart includes a CLI tool to help manage the schema required by the library.

- **Generate**: This command generates an ORM schema or SQL migration file.

<Callout>
If you're using Kysely, you can apply the migration directly with `migrate` command below. Use `generate` only if you plan to apply the migration manually.
</Callout>

```bash title="Terminal"
npx @agentstart/cli generate
```

- **Migrate**: This command creates the required tables directly in the database. (Available only for the built-in Kysely adapter)

```bash title="Terminal"
npx @agentstart/cli migrate
```

see the [CLI documentation](/docs/concepts/cli) for more information.

<Callout>
  If you instead want to create the schema manually, you can find the core schema required in the [database section](/docs/concepts/database#core-schema).
</Callout>

</Step>

<Step>

### Mount Handler

Create an API route to handle agent requests. The route should handle requests for the path `/api/agent/*`.

<Tabs items={["Next.js", "Express", "Node.js"]}>
  <Tab value="Next.js">
    ```ts title="app/api/agent/[...all]/route.ts"
    import { toNextJsHandler } from "agentstart/integration";
    import { start } from "@/lib/agent"; // path to your agent file

    export const { POST, GET } = toNextJsHandler(start.handler);
    ```
  </Tab>
  
  <Tab value="Express">
    ```ts title="server.ts"
    import express from "express";
    import { toNodeHandler } from "agentstart/integration";
    import { start } from "@/lib/agent"; // path to your agent file

    const app = express();
    const handler = toNodeHandler(start.handler);

    app.use("/api/agent", handler);

    app.listen(3000, () => {
      console.log("Server running on http://localhost:3000");
    });
    ```
  </Tab>
  
  <Tab value="Node.js">
    ```ts title="server.ts"
    import { createServer } from "node:http";
    import { toNodeHandler } from "agentstart/integration";
    import { start } from "@/lib/agent"; // path to your agent file

    const handler = toNodeHandler(start.handler);
    const server = createServer(handler);

    server.listen(3000, () => {
      console.log("Server running on http://localhost:3000");
    });
    ```
  </Tab>
</Tabs>

</Step>

<Step>

### Create Client Instance

Create a client to interact with your agent from the frontend:

```ts title="agent-client.ts"
import {
  createAgentClient,
  useAgentStore,
  useThreadStore,
} from "agentstart/client";
export const { client, useThread } = createAgentClient();

export { useAgentStore, useThreadStore };
```

</Step>

<Step>

### ðŸŽ‰ That's it!

You're now ready to use AgentStart in your application. Continue to [Basic Usage](/docs/basic-usage) to learn how to use the agent in your application.

</Step>

</Steps>

## Next Steps

<Cards>
  <Card title="Basic Usage" href="/docs/basic-usage" />
</Cards>
