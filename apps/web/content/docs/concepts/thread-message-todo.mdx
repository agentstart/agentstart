---
title: Thread, Message & Todo
description: Understanding core data models in AgentStart
---

# Thread, Message & Todo

AgentStart organizes agent interactions using three core data models: Threads, Messages, and Todos.

## Threads

A **Thread** represents a conversation session between a user and an agent. Each thread maintains its own context and history.

### Thread Structure

```ts
interface Thread {
  id: string;
  title: string | null;
  userId: string | null;
  createdAt: Date;
  metadata: unknown;
}
```

### Creating Threads

```ts
// Server-side
const thread = await start.api.thread.create({
  title: "Help with TypeScript",
  userId: "user-123",
});

// Client-side
const thread = await client.thread.create({
  title: "Help with TypeScript",
});
```

### Listing Threads

```ts
// Get all threads for current user
const threads = await start.api.thread.list();

// Filter by user
const userThreads = await start.api.thread.list({ 
  userId: "user-123" 
});
```

### Deleting Threads

```ts
await start.api.thread.delete({ id: "thread-123" });
```

## Messages

**Messages** are individual exchanges within a thread. Each message has a role (user, assistant, system, or tool).

### Message Structure

```ts
interface Message {
  id: string;
  threadId: string;
  role: "user" | "assistant" | "system" | "tool";
  content: string;
  createdAt: Date;
  metadata: unknown;
}
```

### Message Roles

- **user**: Messages from the user
- **assistant**: Responses from the AI agent
- **system**: System prompts and instructions
- **tool**: Tool execution results

### Sending Messages

```tsx
// Client-side with hooks
const sendMessage = useAgentStore((state) => state.sendMessage, threadId);
await sendMessage({ content: "What is TypeScript?" });
```

### Getting Messages

```tsx
// Client-side
const messages = useAgentStore((state) => state.messages, threadId);

// Server-side
const messages = await start.api.message.list({ 
  threadId: "thread-123" 
});
```

### Message Streaming

Messages are streamed in real-time using Server-Sent Events:

```tsx
const isStreaming = useAgentStore((state) => state.isStreaming, threadId);

{isStreaming && <StreamingIndicator />}
```

## Next Steps

<Cards>
  <Card title="API" href="/docs/concepts/api" />
  <Card title="Client" href="/docs/concepts/client" />
  <Card title="Database" href="/docs/concepts/database" />
</Cards>
