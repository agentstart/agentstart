---
title: Core Concepts
description: Understand the foundational building blocks of AgentStart
---

# Core Concepts

AgentStart is organized around a small set of primitives that collaborate to build production-ready AI agents.

## Agent Class

The `Agent` class uses the AI SDK to coordinate model execution, tool dispatch, and streaming responses.

```ts
import { Agent, agentTools } from "agentstart/agent";
import { createOpenRouter } from "@openrouter/ai-sdk-provider";

const openrouter = createOpenRouter({
  apiKey: process.env.MODEL_PROVIDER_API_KEY,
});

const agent = new Agent({
  model: openrouter("x-ai/grok-4-fast"),
  instructions: "You are a helpful assistant.",
  tools: {
    ...agentTools,
  },
});
```

### Constructor Options

- **model**: language model from an AI SDK provider
- **instructions**: system prompt that defines agent behavior
- **tools**: object map of executable tools
- **context** (optional): custom context object available to tools

## agentStart Function

`agentStart()` creates an oRPC handler that exposes your agent as a REST-friendly API.

```ts
import { agentStart } from "agentstart";
import { drizzleAdapter } from "agentstart/memory";

export const start = agentStart({
  agent,
  memory: drizzleAdapter(db, {
    provider: "pg",
    schema,
  }),
  appName: "my-app",
});
```

### Options

- **agent**: Agent instance (required)
- **memory**: database adapter for persistence (required)
- **appName**: identifier used for instrumentation
- **basePath**: API base path (default: `/api/agent`)
- **sandbox**: sandbox configuration for code execution
- **middleware**: array of oRPC middleware

## Tools

Tools extend the agent with executable capabilities.

### Built-in Tools

AgentStart includes two tool collections:

**agentTools** – task management helpers:
- `todoRead`: read the todo list
- `todoWrite`: update tasks

**osTools** – filesystem and shell helpers:
- `bash`: execute shell commands
- `read`: read file contents
- `write`: overwrite a file
- `edit`: patch part of a file
- `glob`: match files by pattern
- `grep`: search file contents
- `ls`: list directory contents

### Usage

```ts
import { agentTools } from "agentstart/agent";

const agent = new Agent({
  model,
  instructions,
  tools: {
    ...agentTools,
    // Custom tool
    myTool: {
      description: "My custom tool",
      parameters: z.object({
        input: z.string(),
      }),
      execute: async ({ input }) => {
        return `Processed: ${input}`;
      },
    },
  },
});
```

## Database Adapters

Memory adapters persist conversation state and metadata.

### Drizzle Adapter

```ts
import { drizzleAdapter } from "agentstart/memory";
import { drizzle } from "drizzle-orm/neon-http";

const db = drizzle(process.env.DATABASE_URL!);

const memory = drizzleAdapter(db, {
  provider: "pg",
  schema: {
    thread: threadsTable,
    message: messagesTable,
    // ... other tables
  },
});
```

### Supported Providers

- PostgreSQL (`pg`)
- MySQL (`mysql`)
- SQLite (`sqlite`)

Additional adapters:
- Prisma: `prismaAdapter`
- Kysely: `kyselyAdapter`
- MongoDB: `mongodbAdapter`
- In-memory: `memoryAdapter`

## Client Integration

Create a type-safe client for your React UI.

```ts
// lib/agent-client.ts
import { createAgentClient } from "agentstart/client";

export const { client, useThread } = createAgentClient();
```

### Use in Components

```tsx
import { useThread } from "@/lib/agent-client";

export function ChatPage() {
  const { threadId } = useParams<{ threadId: string }>();
  useThread(threadId);

  return <Conversation />;
}
```

## Framework Integrations

### Next.js

```ts
// app/api/agent/[...all]/route.ts
import { toNextJsHandler } from "agentstart/integration";
import { start } from "@/lib/agent"; // path to your auth file

export const { POST, GET } = toNextJsHandler(start.handler);
```

### Node.js

```ts
import { toNodeHandler } from "agentstart/integration";
import { start } from "./agent";

const handler = toNodeHandler(start.handler);

// Express
app.use("/api/agent", handler);

// Node HTTP
createServer(handler).listen(3000);
```

## Next Steps

<Cards>
  <Card title="Tools Guide" href="/docs/concepts/tools" />
  <Card title="Database Concepts" href="/docs/concepts/database" />
  <Card title="API Reference" href="/docs/reference/api" />
</Cards>
